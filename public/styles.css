* { box-sizing: border-box; }
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0; padding:0; background:#f9f9f9; }

/* Top Navigation - Modern Dark Gradient */
.top-nav { background:linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%); color:white; padding:18px 0; box-shadow:0 6px 20px rgba(15,23,42,0.4); position:sticky; top:0; z-index:1000; backdrop-filter:blur(10px); }
.top-nav.admin-nav { background:linear-gradient(135deg, #7c3aed 0%, #a855f7 50%, #c026d3 100%); box-shadow:0 6px 20px rgba(124,58,237,0.4); }
.nav-container { max-width:1400px; margin:0 auto; padding:0 40px; }
.nav-logo-section { display:flex; align-items:center; gap:18px; flex-wrap:nowrap; }
.nav-logo { height:55px; width:auto; flex-shrink:0; object-fit:contain; filter:drop-shadow(0 2px 4px rgba(0,0,0,0.2)); }
.nav-text { flex:1; min-width:0; }
.nav-title { margin:0; font-size:1.5rem; font-weight:700; line-height:1.2; letter-spacing:0.5px; }
.nav-subtitle { margin:4px 0 0 0; font-size:0.9rem; opacity:0.95; line-height:1.3; font-weight:400; }

/* Banner Header - Modern & Clean */
.banner-header { background:linear-gradient(to bottom, #f1f5f9 0%, #e2e8f0 100%); padding:0; width:100%; position:relative; z-index:100; border-bottom:2px solid #cbd5e1; box-shadow:0 4px 12px rgba(0,0,0,0.05); }
.banner-container { display:flex; align-items:center; gap:40px; max-width:1400px; margin:0 auto; padding:40px 40px; }
.banner-img { width:60%; height:auto; border-radius:16px; box-shadow:0 8px 24px rgba(30,58,138,0.15); flex-shrink:0; object-fit:cover; border:3px solid white; }
.caption { flex:1; font-size:1.35rem; font-weight:600; color:#1e293b; line-height:1.8; letter-spacing:0.3px; text-align:left; padding:20px; background:white; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.08); border-left:4px solid #1e3a8a; }

/* Main Content */
main { padding:30px 40px; max-width:1400px; margin:0 auto; position:relative; z-index:10; }
#map { margin:0 auto; border-radius:12px; box-shadow:0 4px 16px rgba(30,58,138,0.15); position:relative; z-index:1; width:100%; height:500px; border:2px solid #e2e8f0; }

/* Legend Base Styles */
.legend { background:white; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.2); max-width:220px; overflow:hidden; }
.legend-mobile { font-size:0.85rem; }
.legend-header { cursor:pointer; user-select:none; padding:8px 10px; background:#f8f9fa; border-bottom:1px solid #eee; }
.legend-content { padding:8px 10px; max-height:250px; overflow-y:auto; }

/* Admin Panel - Clean Modern Layout */
.admin-panel { padding:30px 20px; max-width:1400px; margin:0 auto; background:#f8f9fa; min-height:calc(100vh - 200px); }
.admin-grid { display:flex; flex-direction:column; align-items:center; gap:20px; max-width:1400px; margin:0 auto; }
.admin-grid .admin-card { width:100%; max-width:600px; }
.admin-grid .full-width { width:100%; max-width:1400px; }

/* Admin Cards - Modern Design */
.admin-card { background:white; border-radius:16px; overflow:hidden; box-shadow:0 4px 16px rgba(0,0,0,0.08); transition:all 0.3s ease; width:100%; border:1px solid #e5e7eb; }
.admin-card.full-width { max-width:100%; }
.admin-card:hover { transform:translateY(-4px); box-shadow:0 8px 24px rgba(0,0,0,0.12); }
.card-title { margin:0; padding:16px 20px; color:#1f2937; font-size:1.05rem; font-weight:600; background:#f9fafb; border-bottom:1px solid #e5e7eb; text-align:center; }
.card-subtitle { margin:0; padding:0 20px; color:#6b7280; font-size:0.9rem; text-align:center; }
.card-content { background:transparent; box-shadow:none; padding:28px; margin:0; display:flex; flex-direction:column; align-items:center; width:100%; max-width:600px; margin-left:auto; margin-right:auto; }
.admin-card.full-width .card-content { max-width:100%; padding:28px 40px; }

/* Form row: two columns on desktop */
.form-row { display:flex; gap:12px; width:100%; justify-content:center; }
.form-row .form-field { width:48%; }

/* Map Styling */
#adminMap { 
	border-radius:0 0 12px 12px; 
	width:100%;
	height:100%;
	position:relative;
	z-index:1;
}
.admin-map-large { 
	height:450px; 
	border-radius:0 0 12px 12px; 
	margin:0;
	position:relative;
}
/* Ensure Leaflet controls don't overlap header */
#adminMap .leaflet-top,
#map .leaflet-top {
	top:10px;
}
#adminMap .leaflet-control-zoom,
#map .leaflet-control-zoom {
	margin-top:0 !important;
	border:2px solid rgba(0,0,0,0.2);
	border-radius:4px;
	box-shadow:0 1px 5px rgba(0,0,0,0.2);
}
/* Ensure Leaflet attribution stays in map */
#adminMap .leaflet-bottom,
#map .leaflet-bottom {
	position:absolute;
	z-index:1000;
}
#adminMap .leaflet-control-attribution,
#map .leaflet-control-attribution {
	background:rgba(255,255,255,0.8);
	padding:2px 5px;
	font-size:10px;
}

/* Kelurahan label (centroid) */
.kel-label { pointer-events: none; }
.kel-label div { background: rgba(255,255,255,0.85); padding:4px 8px; border-radius:6px; font-weight:700; font-size:0.85rem; color:#222; box-shadow:0 2px 6px rgba(0,0,0,0.12); }

/* Marker visual polish */
.kel-marker { filter: drop-shadow(0 2px 4px rgba(0,0,0,0.18)); }

/* Form Fields - Modern Input Design */
.form-field { margin-bottom:16px; width:100%; text-align:center; }
.form-field:last-child { margin-bottom:0; }
.form-field label { display:block; font-weight:600; margin-bottom:8px; color:#374151; font-size:0.95rem; text-align:center; }
.form-field input[type="text"], 
.form-field input[type="number"],
.form-field select,
.form-field textarea { width:100%; padding:12px 14px; border:2px solid #e5e7eb; border-radius:10px; font-size:0.95rem; transition:all 0.3s; margin:0; font-family:inherit; background:white; }
.form-field input[type="text"]:focus, 
.form-field input[type="number"]:focus,
.form-field select:focus,
.form-field textarea:focus { outline:none; border-color:#667eea; box-shadow:0 0 0 3px rgba(102,126,234,0.1); }

/* File Input Styling */
.file-input-wrapper { position:relative; margin-bottom:15px; }
#bannerInput { display:none; }
.file-label { display:block; padding:20px; background:#f5f5f5; border:2px dashed #ddd; border-radius:8px; text-align:center; cursor:pointer; transition:all 0.3s; font-weight:600; color:#666; max-width:420px; margin:0 auto; }
.file-label:hover { background:#efefef; border-color:#c41e3a; color:#c41e3a; }
#bannerInput:focus + .file-label { border-color:#c41e3a; box-shadow:0 0 0 3px rgba(196,30,58,0.1); }

/* Logo Drag Drop */
.logo-drag-drop { background:#f9f9f9; border:2px dashed #ddd; border-radius:8px; cursor:pointer; transition:all 0.3s; }
.logo-drag-drop:hover { background:#f0f0f0; border-color:#c41e3a; }
.logo-drag-drop.drag-over { background:#ffe6e6; border-color:#c41e3a; }

/* Buttons - Modern Gradient Design */
.btn { padding:12px 24px; border:none; border-radius:10px; font-size:0.95rem; cursor:pointer; font-weight:600; transition:all 0.3s; width:100%; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
.btn-primary { background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); color:white; }
.btn-primary:hover { transform:translateY(-2px); box-shadow:0 4px 12px rgba(102,126,234,0.3); }
.btn-primary:disabled { background:#9ca3af; cursor:not-allowed; opacity:0.6; transform:none; }
.btn-danger { background:linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color:white; }
.btn-danger:hover { transform:translateY(-2px); box-shadow:0 4px 12px rgba(245,87,108,0.3); }

/* Points List */
.points-list-wrapper { padding:20px; display:flex; flex-direction:column; align-items:center; }
.points-list { list-style:none; padding:0; margin:0 auto; width:100%; max-width:720px; }
.points-list li { padding:16px; background:#f9f9f9; border-radius:8px; margin-bottom:12px; display:flex; flex-direction:row; justify-content:space-between; align-items:center; border-left:4px solid #c41e3a; transition:all 0.3s; text-align:left; }
.points-list li > div:first-child { flex:1; text-align:left; }
.points-list li:last-child { margin-bottom:0; }
.points-list li:hover { background:#f0f0f0; transform:translateX(4px); }
.points-list li > div:first-child { flex:1; }
.points-list li button { background:#dc3545; color:white; padding:8px 16px; font-size:0.85rem; border-radius:4px; border:none; cursor:pointer; transition:all 0.3s; white-space:nowrap; margin-left:12px; }
.points-list li button:hover { background:#c82333; box-shadow:0 2px 8px rgba(220,53,69,0.3); }

/* Empty State */
.empty-state { text-align:center; padding:40px 20px; color:#999; }
.empty-state p { margin:0; font-size:0.95rem; }

/* Footer - Modern Dark Gradient */
.footer { background:linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%); color:#e2e8f0; padding:32px 0; margin-top:50px; text-align:center; border-top:3px solid #475569; box-shadow:0 -6px 20px rgba(15,23,42,0.4); }
.footer-container { max-width:1400px; margin:0 auto; padding:0 40px; }
.footer p { margin:10px 0; font-size:0.95rem; line-height:1.7; }
.footer a { color:#93c5fd; text-decoration:none; word-break:break-word; font-weight:500; transition:color 0.3s ease; }
.footer.admin-footer { background:#1a1a1a; padding:15px 0; margin-top:30px; }
.footer.admin-footer p { margin:0; font-size:0.85rem; color:#999; }
.footer a:hover { color:#dbeafe; text-decoration:underline; }
.footer-contact { margin-top:16px; display:flex; justify-content:center; gap:30px; flex-wrap:wrap; }
.footer-contact span { display:inline-flex; align-items:center; gap:6px; }
.admin-footer { background:#1a1a1a; border-top:2px solid #c41e3a; }

/* Tablet and Mobile responsive (≤768px) */
@media (max-width: 768px) {
	/* Footer */
	.footer { padding:24px 0; margin-top:30px; }
	.footer-container { padding:0 16px; }
	.footer p { font-size:0.85rem; margin:10px 0; }
	.footer-contact { 
		font-size:0.8rem; 
		word-wrap:break-word;
		display:flex;
		flex-direction:column;
		gap:8px;
	}
	.footer-contact a { 
		display:inline-block;
		padding:4px 0;
	}
	
	/* Legend responsive */
	.legend-mobile { max-width: 190px !important; }
	.leaflet-bottom.leaflet-right { 
		bottom: 10px !important; 
		right: 10px !important;
		max-width: 50% !important;
	}
}

/* Tablet responsive (≤900px) */
@media (max-width: 900px) {
	.nav-container, .banner-container, .admin-panel, .footer-container { padding:0 20px; }
	.nav-logo { height:50px; }
	.nav-title { font-size:1.5rem; }
	.nav-subtitle { font-size:0.9rem; }
	.banner-img { width:100%; max-width:600px; margin:0 auto; }
	.caption { font-size:1.15rem; text-align:center; }
	main { padding:16px 20px; }
	#map { height:450px; }
	.admin-grid { grid-template-columns: 1fr; gap:18px; justify-items:center; }
	.admin-map-large { height:360px; }
	.form-row { display:block; }
	.form-field { width:100%; }
	.btn { padding:12px 16px; font-size:0.95rem; }
	.points-list li { flex-direction:column; align-items:flex-start; text-align:left; gap:8px; }
	.points-list li button { margin-left:0; margin-top:8px; width:100%; }
}

/* Mobile responsive (≤600px) */
@media (max-width: 600px) {
	/* Fixed header on mobile */
	.top-nav { padding:8px 0; position:sticky; top:0; }
	.nav-container { padding:0 12px; }
	.nav-logo-section { gap:8px; }
	.nav-logo { height:35px; }
	.nav-title { font-size:1rem; line-height:1.2; white-space:normal; }
	.nav-subtitle { font-size:0.75rem; }
	
	/* Banner full width with caption below */
	.banner-header { padding:0; }
	.banner-container { flex-direction:column !important; padding:16px 12px; gap:16px; align-items:center; }
	.banner-img { width:100% !important; max-width:100%; border-radius:8px; }
	.caption { font-size:1.05rem; line-height:1.6; text-align:center; width:100%; padding:0 4px; }
	
	/* Map with proper spacing to avoid overlap */
	main { padding:12px; margin-top:0; }
	#map { height:400px; border-radius:6px; }
	
	/* Legend mobile - responsive and compact */
	.leaflet-bottom.leaflet-right { 
		position: fixed !important;
		bottom: 10px !important;
		right: 10px !important;
		max-width: 45% !important;
		z-index: 999;
	}
	.legend-mobile {
		max-width: 180px !important;
		font-size: 0.8rem !important;
		padding: 0 !important;
		box-shadow: 0 2px 8px rgba(0,0,0,0.2) !important;
	}
	.legend-header {
		background: #f5f5f5;
		border-radius: 6px 6px 0 0;
		padding: 6px 8px !important;
		font-size: 0.85rem !important;
	}
	.legend-content {
		max-height: 180px;
		overflow-y: auto;
		padding: 6px 8px !important;
	}
	
	/* Admin adjustments */
	.admin-panel { padding:12px; }
	.admin-card { width:100%; max-width:100%; margin:0; border-radius:8px; }
	.admin-map-large { height:320px; }
	.card-title { font-size:0.9rem; padding:12px 14px 8px 14px; }
	.card-subtitle { font-size:0.8rem; padding:0 14px; }
	.card-content { padding:14px; }
	.form-field { margin-bottom:12px; }
	.form-field label { font-size:0.85rem; margin-bottom:4px; }
	.form-field input,
	.form-field select,
	.form-field textarea { font-size:0.9rem; padding:8px 10px; }
	.form-row { flex-direction:column; gap:0; }
	.form-row .form-field { width:100%; }
	.btn { padding:10px 12px; font-size:0.9rem; }
	.points-list li { flex-direction:column; align-items:flex-start; padding:10px; }
	.points-list li button { width:100%; margin-top:8px; font-size:0.85rem; padding:8px; }
	#adminMap .leaflet-control-zoom { margin-right:5px; }
	#adminMap .leaflet-control-zoom a { width:28px; height:28px; line-height:28px; font-size:16px; }
	
	/* Admin header - hide subtitle on mobile */
}

/* Small mobile devices (≤480px) */
@media (max-width: 480px) {
	/* Legend even more compact */
	.leaflet-bottom.leaflet-right {
		bottom: 8px !important;
		right: 8px !important;
		max-width: 42% !important;
	}
	.legend-mobile {
		max-width: 160px !important;
		font-size: 0.75rem !important;
	}
	.legend-header {
		padding: 5px 7px !important;
		font-size: 0.8rem !important;
	}
	.legend-content {
		padding: 5px 7px !important;
		max-height: 160px !important;
	}
	.legend-content > div {
		margin: 4px 0 !important;
		font-size: 0.75rem !important;
	}
	
	/* Admin header mobile */
	.admin-nav .nav-subtitle { display:none; }
	.admin-nav .nav-title { font-size:0.95rem; }
	
	/* Footer mobile */
	.footer { padding:20px 0; margin-top:24px; }
	.footer-container { padding:0 12px; }
	.footer p { font-size:0.8rem; }
	.footer-contact { font-size:0.75rem; }
	.footer.admin-footer { padding:12px 0; }
	.footer.admin-footer p { font-size:0.75rem; }
}

/* Extra small mobile devices (≤360px) */
@media (max-width: 360px) {
	.top-nav { padding:6px 0; }
	.nav-logo { height:32px; }
	.nav-logo-section { gap:6px; }
	.nav-title { font-size:0.9rem; }
	.nav-subtitle { font-size:0.7rem; }
	.admin-nav .nav-title { font-size:0.85rem; }
	.banner-container { padding:12px 8px; gap:12px; }
	.banner-img { border-radius:6px; }
	.caption { font-size:0.95rem; line-height:1.5; }
	main { padding:10px 8px; }
	#map { height:350px; }
	.admin-panel { padding:8px; }
	.admin-card { border-radius:8px; margin-bottom:12px; }
	.admin-map-large { height:280px; }
	.card-title { font-size:0.85rem; padding:10px 12px 6px 12px; }
	.card-content { padding:12px; }
	.form-field { margin-bottom:10px; }
	.form-field label { font-size:0.8rem; }
	.form-field input,
	.form-field select,
	.form-field textarea { font-size:0.85rem; padding:7px 9px; }
	.btn { padding:9px 10px; font-size:0.85rem; }
	#gpsBtn { font-size:0.8rem; padding:8px 10px; }
	.points-list li { padding:8px; }
	.points-list li strong { font-size:0.85rem; }
	.points-list li small { font-size:0.75rem; }
	.footer { padding:12px 0; }
	.footer.admin-footer { padding:10px 0; }
	.footer.admin-footer p { font-size:0.7rem; }
	
	/* Legend ultra compact */
	.leaflet-bottom.leaflet-right {
		bottom: 6px !important;
		right: 6px !important;
		max-width: 40% !important;
	}
	.legend-mobile {
		max-width: 145px !important;
		font-size: 0.7rem !important;
	}
	.legend-header {
		padding: 4px 6px !important;
		font-size: 0.75rem !important;
	}
	.legend-content {
		padding: 4px 6px !important;
		max-height: 140px !important;
	}
	.legend-content > div {
		margin: 3px 0 !important;
		font-size: 0.7rem !important;
	}
	.legend-content span[data-category] {
		font-size: 0.65rem !important;
		padding: 0px 4px !important;
	}
	
	/* Map adjustments for very small screens */
	#map { height: 320px !important; }
}
